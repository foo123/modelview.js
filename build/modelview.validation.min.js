/**
*
*   ModelView Extra Validation Methods add-on
*   https://github.com/foo123/modelview.js
*
**/
!function(e,t,n){"use strict";"object"==typeof module&&module.exports?module.exports=n.call(e,require(/\.min(\.js)?$/i.test(__filename)?"./modelview.min":"./modelview")):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&(require.specified(t)||require.specified("ModelView"))?define(t,["ModelView"],function(t){return n.call(e,t)}):n.call(e,e.ModelView)&&"function"==typeof define&&define.amd&&define(function(){return e.ModelView})}("undefined"!=typeof self?self:this,"ModelViewValidation",function(t){"use strict";var e,n,r,f,i,a=Object.prototype.hasOwnProperty,u=t.Type.Cast,l=t.Type.TypeCaster,o=t.Validation.Validate,c=t.Validation.Validator;return a.call(u,"LCASE")||(u.LCASE=l(function(t){return String(t).toLowerCase()})),a.call(u,"UCASE")||(u.UCASE=l(function(t){return String(t).toUpperCase()})),a.call(u,"PAD")||(u.PAD=function(r,f,i){return i=i||"L",l(function(t){var e=String(t),n=e.length,t=f-n;return 0<t&&("LR"===i?(n=~~(t/2),e=new Array(1+(t-n)).join(r)+e+new Array(1+n).join(r)):"R"===i?e+=new Array(1+t).join(r):"L"===i&&(e=new Array(1+t).join(r)+e)),e})}),a.call(o,"DATETIME")||(o.DATETIME=function(t,e){if("function"!=typeof DateX)return c(function(t){return!0});var n=DateX.getParser(t,e||DateX.defaultLocale);return c(function(t){return!!t&&!1!==n(t)})}),a.call(o,"EMAIL")||(o.EMAIL=(e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,c(function(t){return e.test(String(t))}))),a.call(o,"URL")||(o.URL=(n=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),c(function(t){return n.test(String(t))}))),a.call(o,"MIN_ITEMS")||(o.MIN_ITEMS=function(e,n){return e=parseInt(e,10)||0,c("function"==typeof n?function(t){return t.length>=e&&t.filter(n).length>=e}:function(t){return t.length>=e})}),a.call(o,"MAX_ITEMS")||(o.MAX_ITEMS=function(e,n){return e=parseInt(e,10)||0,c("function"==typeof n?function(t){return t.filter(n).length<=e}:function(t){return t.length<=e})}),a.call(o,"MIN_FILES")||(o.MIN_FILES=function(e,n){return e=parseInt(e,10)||0,c("function"==typeof n?function(t){return t&&0<t.length?Array.prototype.filter.call(t,n).length>=e:e<=0}:function(t){return!!t&&t.length>=e})}),a.call(o,"MAX_FILES")||(o.MAX_FILES=function(e,n){return e=parseInt(e,10)||0,c("function"==typeof n?function(t){return t&&0<t.length?Array.prototype.filter.call(t,n).length<=e:0<=e}:function(t){return!t||t.length<=e})}),a.call(o,"FILESIZE")||(o.FILESIZE=function(r){return r=parseInt(r,10)||0,c(function(t){if(!t||!t.length)return!0;for(var e=0,n=t.length;e<n;++e)if(t[e].size>r)return!1;return!0})}),a.call(o,"FILETYPE")||(o.FILETYPE=function(r){return r instanceof RegExp||(r="string"==typeof r?r.replace(/\s/g,""):"image/*",r=new RegExp(".?("+r.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace("/*","/.*")+")$","i")),c(function(t){if(!t||!t.length)return!0;for(var e=0,n=t.length;e<n;++e)if(!t[e].type.match(r))return!1;return!0})}),a.call(o,"IPV4")||(o.IPV4=(r=/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i,c(function(t){return r.test(String(t))}))),a.call(o,"IPV6")||(o.IPV6=(f=/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i,c(function(t){return f.test(String(t))}))),a.call(o,"IP")||(o.IP=o.IPV4),a.call(o,"BIC")||(o.BIC=(i=/^([A-Z]{6}[A-Z2-9][A-NP-Z1-2])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/,c(function(t){return i.test(String(t))}))),a.call(o,"IBAN")||(o.IBAN=c(function(t){var e,n,r,f,i,a=String(t).replace(/ /g,"").toUpperCase(),u="",l=!0,o="",t=a.substring(0,2);if(void 0===(void 0)[t])return!1;if(t=(void 0)[t],!new RegExp("^[A-Z]{2}\\d{2}"+t+"$","").test(a))return!1;for(r=0,f=(e=a.substring(4,a.length)+a.substring(0,4)).length;r<f;++r)"0"!=(n=e.charAt(r))&&(l=!1),l||(u+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(n));for(i=0,f=u.length;i<f;++i)o=(""+o+u.charAt(i))%97;return 1===o})),a.call(o,"CURRENCY")||(o.CURRENCY=function(t,e,n){return t="["+t.replace(/,/g,"")+"]"+(n?"?":""),currency_pattern=new RegExp("^"+(e?"":t)+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)"+(e?t:"")+"$"),c(function(t){return currency_pattern.test(String(t))})}),a.call(o,"CREDITCARDNUMBER")||(o.CREDITCARDNUMBER=c(function(t){if(t=String(t),/[^0-9 \-]+/.test(t))return!1;var e,n,r=0,f=0,i=!1;if((t=t.replace(/\D/g,"")).length<13||19<t.length)return!1;for(e=t.length-1;0<=e;--e)n=t.charAt(e),f=parseInt(n,10),i&&9<(f*=2)&&(f-=9),r+=f,i=!i;return 0==r%10})),a.call(o,"CREDITCARDTYPE")||(o.CREDITCARDTYPE=function(t){var e=0;return(t.mastercard||t.MASTERCARD)&&(e|=1),(t.visa||t.VISA)&&(e|=2),(t.amex||t.AMEX)&&(e|=4),(t.dinersclub||t.DINERSCLUB)&&(e|=8),(t.enroute||t.ENROUTE)&&(e|=16),(t.discover||t.DISCOVER)&&(e|=32),(t.jcb||t.JCB)&&(e|=64),(t.unknown||t.UNKNOWN)&&(e|=128),(t.all||t.ALL)&&(e=255),c(function(t){return t=String(t),!/[^0-9\-]+/.test(t)&&(t=t.replace(/\D/g,""),1&e&&/^(5[12345])/.test(t)||2&e&&/^(4)/.test(t)?16===t.length:4&e&&/^(3[47])/.test(t)?15===t.length:8&e&&/^(3(0[012345]|[68]))/.test(t)?14===t.length:16&e&&/^(2(014|149))/.test(t)?15===t.length:32&e&&/^(6011)/.test(t)||64&e&&/^(3)/.test(t)?16===t.length:64&e&&/^(2131|1800)/.test(t)?15===t.length:!!(128&e))})}),1});