/**
*
*   ModelView jQuery Plugin
*   https://github.com/foo123/modelview.js
*
**/
!function(t,e,i){"use strict";"object"==typeof module&&module.exports?module.exports=i.call(t,require(/\.min(\.js)?/i.test(__filename)?"./modelview.min":"./modelview")):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&(require.specified(e)||require.specified("ModelView"))?define(e,["ModelView"],function(e){return i.call(t,e)}):i.call(t,t.ModelView)&&"function"==typeof define&&define.amd&&define(function(){return t.ModelView})}(this,"ModelViewjQuery",function(e){"use strict";e.jquery=function(m){var c,v,f;m.ModelView||(m.ModelView=e,Function.prototype.call.bind(Array.prototype.slice),c=m.extend,v=e.View,f=e.Model,m.fn.modelview=function(e,n,t){var l=arguments.length,d=l?e:null,s=e,a=!0,u=!1,r=[];return this.each(function(){var e,t,i,o=m(this);if(o.data("modelview")){if(a=!1,e=(t=o.data("modelview")).model(),"view"===d)r.push(t);else if("model"===d){if(1<l)return t.model(n),this;r.push(e)}else if("data"===d){if(1<l)return e.data(n),this;r.push(e.data())}else"sync"===d?t.sync():"dispose"===d&&(o.data("modelview",null),t.dispose());return this}if(u||(!(s=c({},{viewClass:v,modelClass:f,id:"view",livebind:!(i={id:"model",data:{},types:{},validators:{},getters:{},setters:{},dependencies:{}}),autobind:!1,autovalidate:!0,events:null,autoSync:!0,model:null,template:null,attribute:"",actions:{},context:{},handlers:{},shortcuts:{},components:{}},s)).model||s.model instanceof f||(s.model=c({},i,s.model)),u=!0),!s.model)return this;e=s.model instanceof f?s.model:new s.modelClass(s.model.id,s.model.data,s.model.types,s.model.validators,s.model.getters,s.model.setters,s.model.dependencies),t=new s.viewClass(s.id).model(e).events(s.handlers).shortcuts(s.shortcuts).actions(s.actions).context(s.context).components(s.components).attribute(s.attribute||"").livebind(s.livebind).autobind(s.autobind).autovalidate(s.autovalidate).bind(s.events,o[0]),null!=s.template&&t.template(s.template),o.data("modelview",t),s.autoSync&&t.sync()}),!a&&r.length?1==this.length?r[0]:r:this}),!m.widget||m.mvvm&&m.mvvm.ModelViewWidget||m.widget("mvvm.ModelViewWidget",{options:{},$view:null,_create:function(){var e=this;e.$view=e.element.modelview(e.options).modelview("view")},value:function(e,t){var i=this;return 1<arguments.length?(i.$view.model().set(e,t,!0),i.element):i.$view.model().get(e)},view:function(){return this.$view},model:function(){return this.$view.model()},_destroy:function(){(this.self.$view=null).element.modelview("dispose")}})},void 0!==window.jQuery&&e.jquery(window.jQuery)});